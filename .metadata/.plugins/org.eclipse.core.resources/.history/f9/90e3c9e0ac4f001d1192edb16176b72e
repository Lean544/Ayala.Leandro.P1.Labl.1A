/*
 * calculos.c
 *
 *  Created on: 19 oct. 2022
 *      Author: ayala
 */
#include <stdio.h>
#include <stdlib.h>
#include "fecha.h"
#include "tipo.h"
#include "color.h"
#include "mascota.h"
#include "servicio.h"
#include "trabajo.h"
#include "validaciones.h"


int cargaForzada(eTipo cosas[],eColor cosasC[],eServicio cosasS[],int tamUno,int tamDos,int tamTres){
	int retorno=0;
	int retornoUno=0;
	int retornoDos=0;
	int retornoTres=0;
	eTipo auxTipos[]={{1000,"Ave"},{1001,"Perro"},{1002,"Roedor"},{1003,"Gato"},{1004,"Pez"}};
	eColor auxColores[]={{5000,"Negro"},{5001,"Blanco"},{5002,"Rojo"},{5003,"Gris"},{5004,"Azul"}};
	eServicio auxServicios[]={{20000,"Corte",450},{20001,"Desparasitado",800},{20002,"Castrado",600}};

	for(int i=0;i<tamUno;i++){
		cosas[i]=auxTipos[i];
		retornoUno=1;
	}
	for(int y=0;y<tamDos;y++){
		cosasC[y]=auxColores[y];
		retornoDos=1;
	}
	for (int x=0;x<tamTres;x++){
		cosasS[x]=auxServicios[x];
		retornoTres=1;
	}

	if(retornoUno==1 && retornoDos ==1 && retornoTres ==1){
		retorno=1;
	}


	return retorno;
}

int inicializar (eMascota personas[],int len){
	int retorno=0;
	int i;

	if(personas != NULL && len > 0){
		for(i=0;i<len;i++){
			personas[i].isEmpty=1;
			retorno=1;
		}
	}

	return retorno;
}

int buscarLibre(eMascota personas[],int len,int* libre){
	int retorno=-1;
	int i;

	for(i=0;i<len;i++){
		if(personas[i].isEmpty==1){
			retorno=1;
			*libre=i;
			break;
		}

	}
	return retorno;
}

int cargar(eMascota personas[],int* ids,eTipo tipo[],eColor color[],int TAM,int tamTipo,int tamColor){
	int retorno=0;
	int pos;
	int i;
	int flagTipo=0;

	if(personas!=NULL && tipo!=NULL && color !=NULL && *ids > -1 && TAM > 0){
		if(buscarLibre(personas,TAM,&pos)==1){
			utn_getCadena(personas[pos].nombre,"Ingrese El nombre de la mascota","error",20,5);
			printf("Lista de Tipos:\n");
			for(i=0;i<tamTipo;i++){
				printf("Id->%d, Tipo:%s\n",tipo[i].id,tipo[i].descripcion);
			}
			do{
				utn_getNumero(personas[pos].idTipo,"Ingrese el id del tipo de mascota","Error",1000,1004);
				for(i=0;i<tamTipo;i++){
					if(personas[pos].idTipo==tipo[i].id){
						flagTipo==1;
					}
				}
			}while(flagTipo==0);

		}


	}



	return retorno;
}
